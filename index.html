<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Climate Quest - Arcade</title>
  <meta name="description" content="Fast climate trivia that teaches real facts." />
  <meta property="og:title" content="Climate Quest - Arcade" />
  <meta property="og:description" content="Fast climate trivia that teaches real facts." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="assets/og-image.png" />
  <meta name="theme-color" content="#ffffff" />
  <link rel="icon" href="assets/icon.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <img src="assets/icon.png" alt="Leaf icon" class="logo" />
      <h1>Climate Quest <span class="tag">Arcade</span></h1>
    </div>
    <nav>
      <button id="btn-help" class="ghost">Help</button>
    </nav>
  </header>

  <main>
    <!-- HOME -->
    <section id="screen-home" class="screen active">
      <div class="card">
        <h2>Ready to play?</h2>
        <p>Pick a mode, then answer fast. Learn as you go.</p>

        <div class="row">
          <label for="mode">Mode</label>
          <select id="mode">
            <option value="solo">Single player</option>
            <option value="group">Group live (event)</option>
            <option value="hotseat">Pass & Play</option>
          </select>
        </div>

        <div class="row">
          <label for="nickname">Nickname</label>
          <input id="nickname" type="text" placeholder="e.g., Omar" maxlength="18" />
        </div>

        <div class="row" id="teamRow" hidden>
          <label for="teamName">Team name (optional for Group)</label>
          <input id="teamName" type="text" placeholder="e.g., Green Tigers" maxlength="22" />
        </div>

        <div class="row" id="playersRow" hidden>
          <label for="playersList">Players for Pass & Play (comma separated)</label>
          <input id="playersList" type="text" placeholder="Aisha, Bilal, Omar" />
        </div>

        <div class="row">
          <label for="eventCode">Event code (optional for Group)</label>
          <input id="eventCode" type="text" placeholder="e.g., RIVERCAMP" maxlength="20" />
        </div>

        <div class="row">
          <label for="category">Category</label>
          <select id="category">
            <option value="mixed">Mixed (All)</option>
            <option value="Energy">Energy</option>
            <option value="Food">Food</option>
            <option value="Waste">Waste</option>
            <option value="Water">Water</option>
            <option value="Transport">Transport</option>
            <option value="Justice">Climate Justice</option>
          </select>
        </div>

        <div class="row">
          <label for="numQuestions">Questions</label>
          <select id="numQuestions">
            <option value="10">10</option>
            <option value="15">15</option>
          </select>
        </div>

        <div class="cta">
          <button id="btn-play" class="primary">Play</button>
          <button id="btn-open-scoreboard" class="ghost">Live Leaderboard</button>
        </div>

        <div class="stats">
          <div>Best score: <strong id="bestScore">0</strong></div>
          <div>Badges: <span id="badgeList"></span></div>
        </div>

        <div class="links">
          <a id="topScoresLink" href="#" target="_blank" rel="noopener" class="disabled">Event sheet</a>
        </div>
      </div>
    </section>

    <!-- GAME -->
    <section id="screen-game" class="screen">
      <div class="hud">
        <div class="hud-left">
          <span id="hud-nickname">Player</span> ¬∑ <span id="hud-category">Mixed</span>
        </div>
        <div class="hud-right">
          <span>‚è± <span id="hud-time">12</span>s</span> ¬∑
          <span>üî• x<span id="hud-streak">0</span></span> ¬∑
          <span>‚≠ê <span id="hud-score">0</span></span>
        </div>
      </div>

      <div class="card question-card">
        <div id="qText" class="q-text">Question text</div>
        <div id="choices" class="choices"></div>
        <div class="helpers">
          <button id="btn-5050" class="ghost small">50/50 (<span id="left-5050">1</span>)</button>
          <button id="btn-hint" class="ghost small">Hint (<span id="left-hint">1</span>)</button>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="screen-result" class="screen">
      <div class="card">
        <h2>Results</h2>
        <div class="result-line">Score: <strong id="res-score">0</strong></div>
        <div class="result-line">Correct: <strong id="res-correct">0</strong>/<span id="res-total">0</span></div>
        <div class="result-line">Longest streak: <strong id="res-streak">0</strong></div>
        <div id="res-badges" class="badges"></div>
        <div id="res-submit-note" class="note"></div>
        <div id="hotseat-summary" class="note"></div>
        <div class="cta">
          <button id="btn-next-player" class="primary" style="display:none">Next Player</button>
          <button id="btn-play-again" class="primary">Play Again</button>
          <button id="btn-home" class="ghost">Home</button>
        </div>
      </div>
    </section>

    <!-- SCOREBOARD -->
    <section id="screen-scoreboard" class="screen">
      <div class="card">
        <h2>Live Leaderboard</h2>
        <div class="row">
          <label for="sbEvent">Event code</label>
          <input id="sbEvent" type="text" placeholder="e.g., RIVERCAMP" />
        </div>
        <div class="row">
          <label for="sbMode">View</label>
          <select id="sbMode">
            <option value="individuals">Individuals</option>
            <option value="teams">Teams</option>
          </select>
        </div>
        <div class="cta">
          <button id="btn-load-sb" class="primary">Load</button>
          <button id="btn-auto-sb" class="ghost">Auto-refresh: Off</button>
          <button id="btn-scoreboard-home" class="ghost">Home</button>
        </div>
        <div id="sbStatus" class="note"></div>
        <div id="sbTableWrap" class="table-wrap"></div>
      </div>
    </section>

    <!-- HELP -->
    <dialog id="helpDialog">
      <h3>How to play</h3>
      <ol>
        <li>Pick a mode. Group mode can submit scores to a Google Sheet.</li>
        <li>You have 12 seconds per question. Faster answers = more points.</li>
        <li>Streaks give a multiplier. Use 50/50 or Hint when you need it.</li>
      </ol>
      <p>To enable Live Leaderboard, publish your Google Sheet as CSV and paste the link in CONFIG.SHEET_CSV_URL.</p>
      <div class="cta"><button id="btn-close-help" class="primary">Close</button></div>
    </dialog>
  </main>

  <footer class="site-footer">
    <small>No tracking. Works on any static host.</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
